# More Powerful LR Parsers

## 4.7.1

Construct the

a) canonical LR, and

b) LALR

sets of items for the grammar `S -> SS + | S S * | a` of Exercise 4.2.1.

| Symbol | FIRST | FOLLOW    |
| ------ | ----- | --------- |
| S      | {a}   | {+ * a $} |

a)

| LR(1) set     | LR(1) items                                                                                                                                                                |
| ------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| I<sub>0</sub> | [S' -> ·S, $] <br> [S -> ·SS+, $] <br> [S -> ·SS*, $] <br> [S -> ·a, $]                                                                                                    |
| I<sub>1</sub> | [S -> a·, $]                                                                                                                                                               |
| I<sub>2</sub> | [S' -> S·, $] <br> [S -> S·S+, $] <br> [S -> S·S*, $] <br> [S -> ·SS+, +/\*/a] <br> [S -> ·SS*, +/\*/a] <br> [S -> ·a, +/*/a]                                              |
| I<sub>3</sub> | [S -> a·, +/*/a]                                                                                                                                                           |
| I<sub>4</sub> | [S -> SS·+, $] <br> [S -> SS·\*, $] <br> [S -> S·S+, +/\*/a] <br> [S -> S·S*, +/\*/a] <br> [S -> ·SS+, +/\*/a] <br> [S -> ·SS*, +/\*/a] <br> [S -> ·a, +/\*/a]             |
| I<sub>5</sub> | [S -> SS+·, $]                                                                                                                                                             |
| I<sub>6</sub> | [S -> SS*·, $]                                                                                                                                                             |
| I<sub>7</sub> | [S -> SS·+, +/\*/a] <br> [S -> SS·\*, +/\*/a] <br> [S -> S·S+, +/\*/a] <br> [S -> S·S\*, +/\*/a] <br> [S -> ·SS+, +/\*/a] <br> [S -> ·SS\*, +/\*/a] <br> [S -> ·a, +/\*/a] |
| I<sub>8</sub> | [S -> SS+·, +/*/a]                                                                                                                                                         |
| I<sub>9</sub> | [S -> SS*·, +/*/a]                                                                                                                                                         |

b)

By merging, LALR sets of items are as follows:

| LALR(1) set    | LALR(1) items                                                                                                                                                                 |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| I<sub>0</sub>  | [S' -> ·S, $] <br> [S -> ·SS+, $] <br> [S -> ·SS*, $] <br> [S -> ·a, $]                                                                                                       |
| I<sub>13</sub> | [S -> a·, +/*/a/$]                                                                                                                                                            |
| I<sub>2</sub>  | [S' -> S·, $] <br> [S -> S·S+, $] <br> [S -> S·S\*, $] <br> [S -> ·SS+, +/\*/a] <br> [S -> ·SS\*, +/\*/a] <br> [S -> ·a, +/\*/a]                                              |
| I<sub>47</sub> | [S -> SS·+, +/\*/a/$] <br> [S -> SS·\*, +/\*/a/$] <br> [S -> S·S+, +/\*/a] <br> [S -> S·S\*, +/\*/a] <br> [S -> ·SS+, +/\*/a] <br> [S -> ·SS*, +/\*/a] <br> [S -> ·a, +/\*/a] |
| I<sub>58</sub> | [S -> SS+·, +/*/a/$]                                                                                                                                                          |
| I<sub>69</sub> | [S -> SS*·, +/*/a/$]                                                                                                                                                          |

## 4.7.2

Repeat Exercise 4.7.1 for each of the (augmented) grammars of Exercise 4.2.2(a)-(g).

a)

| Symbol | FIRST | FOLLOW |
| ------ | ----- | ------ |
| S      | {0}   | {1 $}  |

| LR(1) set     | LR(1) items                                                              |
| ------------- | ------------------------------------------------------------------------ |
| I<sub>0</sub> | [S' -> ·S, $] <br> [S -> ·0S1, $] <br> [S -> ·01]                        |
| I<sub>1</sub> | [S' -> S·, $]                                                            |
| I<sub>2</sub> | [S -> 0·S1, $] <br> [S -> 0·1, $] <br> [S -> ·0S1, 1] <br> [S -> ·01, 1] |
| I<sub>3</sub> | [S -> 0S·1, $]                                                           |
| I<sub>4</sub> | [S -> 01·, $]                                                            |
| I<sub>5</sub> | [S -> 0·S1, 1] <br> [S -> 0·1, 1] <br> [S -> ·0S1, 1] <br> [S -> ·01, 1] |
| I<sub>6</sub> | [S -> 0S1·, $]                                                           |
| I<sub>7</sub> | [S -> 0S·1, 1]                                                           |
| I<sub>8</sub> | [S -> 01·, 1]                                                            |
| I<sub>9</sub> | [S -> 0S1·, 1]                                                           |

| LALR(1) set    | LALR(1) items                                                                |
| -------------- | ---------------------------------------------------------------------------- |
| I<sub>0</sub>  | [S' -> ·S, $] <br> [S -> ·0S1, $] <br> [S -> ·01]                            |
| I<sub>1</sub>  | [S' -> S·, $]                                                                |
| I<sub>25</sub> | [S -> 0·S1, 1/$] <br> [S -> 0·1, 1/$] <br> [S -> ·0S1, 1] <br> [S -> ·01, 1] |
| I<sub>37</sub> | [S -> 0S·1, 1/$]                                                             |
| I<sub>48</sub> | [S -> 01·, 1/$]                                                              |
| I<sub>69</sub> | [S -> 0S1·, 1/$]                                                             |

b)

| Symbol | FIRST    | FOLLOW     |
| ------ | -------- | ---------- |
| S      | {+ \* a} | {+ \* a $} |

| LR(1) set      | LR(1) items                                                                                    |
| -------------- | ---------------------------------------------------------------------------------------------- |
| I<sub>0</sub>  | [S' -> ·S, $] <br> [S -> ·+SS, $] <br> [S -> ·\*SS, $] <br> [S -> ·a, $]                       |
| I<sub>1</sub>  | [S' -> S·, $]                                                                                  |
| I<sub>2</sub>  | [S -> +·SS, $] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]       |
| I<sub>3</sub>  | [S -> \*·SS, $] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]      |
| I<sub>4</sub>  | [S -> ·a, $]                                                                                   |
| I<sub>5</sub>  | [S -> +S·S, $] <br> [S -> ·+SS, $] <br> [S -> ·\*SS, $] <br> [S -> ·a, $]                      |
| I<sub>6</sub>  | [S -> +·SS, +/\*/a] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]  |
| I<sub>7</sub>  | [S -> \*·SS, +/\*/a] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a] |
| I<sub>8</sub>  | [S -> ·a, +/\*/a]                                                                              |
| I<sub>9</sub>  | [S -> \*S·S, $] <br> [S -> ·+SS, $] <br> [S -> ·\*SS, $] <br> [S -> ·a, $]                     |
| I<sub>10</sub> | [S -> a·, $]                                                                                   |
| I<sub>11</sub> | [S -> +SS·, $]                                                                                 |
| I<sub>12</sub> | [S -> +S·S, +/\*/a] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]  |
| I<sub>13</sub> | [S -> \*S·S, +/\*/a] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a] |
| I<sub>14</sub> | [S -> a·, +/\*/a]                                                                              |
| I<sub>15</sub> | [S -> \*SS·, $]                                                                                |
| I<sub>16</sub> | [S -> +SS·, +/\*/a]                                                                            |
| I<sub>17</sub> | [S -> \*SS·, +/\*/a]                                                                           |

| LALR(1) set       | LALR(1) items |
| ----------------- | ------------- |
| I<sub>0</sub>     | [S' -> ·S, $] <br> [S -> ·+SS, $] <br> [S -> ·\*SS, $] <br> [S -> ·a, $]                               |
| I<sub>1</sub>     | [S' -> S·, $]                                                                                          |
| I<sub>2,6</sub>   | [S -> +·SS, +/\*/a/$] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]        |
| I<sub>3,7</sub>   | [S -> \*·SS, +/\*/a/$] <br> [S -> ·+SS, +/\*/a] <br> [S -> ·\*SS, +/\*/a] <br> [S -> ·a, +/\*/a]       |
| I<sub>4,8</sub>   | [S -> ·a, +/\*/a/$]                                                                                    |
| I<sub>5,12</sub>  | [S -> +S·S, +/\*/a/$] <br> [S -> ·+SS, +/\*/a/$] <br> [S -> ·\*SS, +/\*/a/$] <br> [S -> ·a, +/\*/a/$]  |
| I<sub>9,13</sub>  | [S -> \*S·S, +/\*/a/$] <br> [S -> ·+SS, +/\*/a/$] <br> [S -> ·\*SS, +/\*/a/$] <br> [S -> ·a, +/\*/a/$] |
| I<sub>10,14</sub> | [S -> a·, +/\*/a/$]                                                                                    |
| I<sub>11,16</sub> | [S -> +SS·, +/\*/a/$]                                                                                  |
| I<sub>15,17</sub> | [S -> \*SS·, +/\*/a/$]                                                                                 |

c)

| Symbol | FIRST | FOLLOW  |
| ------ | ----- | ------- |
| S      | {( ε} | {( ) $} |

| LR(1) set     | LR(1) items                                                    |
| ------------- | -------------------------------------------------------------- |
| I<sub>0</sub> | [S' -> ·S, $] <br> [S -> ·S(S)S, (/$] <br> [S -> ε·, (/$]      |
| I<sub>1</sub> | [S' -> S·, $] <br> [S -> S·(S)S, (/$]                          |
| I<sub>2</sub> | [S -> S(·S)S, (/$] <br> [S -> ·S(S)S, )] <br> [S -> ε·, )]     |
| I<sub>3</sub> | [S -> S(S·)S, (/$] <br> [S -> S·(S)S, )]                       |
| I<sub>4</sub> | [S -> S(·S)S, )] <br> [S -> ·S(S)S, )] <br> [S -> ε·, )]       |
| I<sub>5</sub> | [S -> S(S)·S, (/$] <br> [S -> ·S(S)S, (/$] <br> [S -> ε·, (/$] |
| I<sub>6</sub> | [S -> S(S·)S, )] <br> [S -> S·(S)S, )]                         |
| I<sub>7</sub> | [S -> S(S)S·, (/$] <br> [S -> S·(S)S, (/$]                     |
| I<sub>8</sub> | [S -> S(S)·S, )] <br> [S -> ·S(S)S, )] <br> [S -> ε·, )]       |
| I<sub>9</sub> | [S -> S(S)S·, )] <br> [S -> S·(S)S, )]                         |

| LALR(1) set     | LALR(1) items                                                        |
| --------------- | -------------------------------------------------------------------- |
| I<sub>0</sub>   | [S' -> ·S, $] <br> [S -> ·S(S)S, (/$] <br> [S -> ε·, (/$]            |
| I<sub>1</sub>   | [S' -> S·, $] <br> [S -> S·(S)S, (/$]                                |
| I<sub>2,4</sub> | [S -> S(·S)S, (/)/$] <br> [S -> ·S(S)S, )] <br> [S -> ε·, )]         |
| I<sub>3,6</sub> | [S -> S(S·)S, (/)/$] <br> [S -> S·(S)S, )]                           |
| I<sub>5,8</sub> | [S -> S(S)·S, (/)/$] <br> [S -> ·S(S)S, (/)/$] <br> [S -> ε·, (/)/$] |
| I<sub>7,9</sub> | [S -> S(S)S·, (/)/$] <br> [S -> S·(S)S, (/)/$]                       |

